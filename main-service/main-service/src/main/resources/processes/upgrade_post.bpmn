<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                  xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_08u4l0k"
                  targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.0.0">
    <bpmn:collaboration id="Collaboration_195tjfe">
        <bpmn:participant id="Participant_1jqxvvf" name="Оплата объявления" processRef="Process_13ywq2j"/>
    </bpmn:collaboration>
    <bpmn:process id="Process_13ywq2j" name="Upgrade post" isExecutable="true">
        <bpmn:startEvent id="StartEvent_081fq3c" name="Оплатить объявление">
            <bpmn:extensionElements>
                <camunda:formData>
                    <camunda:formField id="postId" label="Post id" type="long"/>
                </camunda:formData>
            </bpmn:extensionElements>
            <bpmn:outgoing>Flow_0do83yh</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:sequenceFlow id="Flow_1iaagnv" sourceRef="Activity_161w6on" targetRef="Event_18eq527"/>
        <bpmn:sequenceFlow id="Flow_0do83yh" sourceRef="StartEvent_081fq3c" targetRef="Activity_1oztyps"/>
        <bpmn:userTask id="Activity_161w6on" name="Объявление успешно оплачено">
            <bpmn:extensionElements>
                <camunda:formData>
                    <camunda:formField id="status" label="Status" type="boolean" defaultValue="false"/>
                </camunda:formData>
            </bpmn:extensionElements>
            <bpmn:incoming>Flow_0d4mxed</bpmn:incoming>
            <bpmn:outgoing>Flow_1iaagnv</bpmn:outgoing>
        </bpmn:userTask>
        <bpmn:endEvent id="Event_18eq527" name="Объявление оплачено">
            <bpmn:incoming>Flow_1iaagnv</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:serviceTask id="Activity_1oztyps" name="Проведение оплаты и изменение статуса объявления"
                          camunda:delegateExpression="${upgradePostDelegate}">
            <bpmn:incoming>Flow_0do83yh</bpmn:incoming>
            <bpmn:outgoing>Flow_0d4mxed</bpmn:outgoing>
            <bpmn:dataOutputAssociation id="DataOutputAssociation_0eyt27k">
                <bpmn:targetRef>DataStoreReference_03dryih</bpmn:targetRef>
            </bpmn:dataOutputAssociation>
        </bpmn:serviceTask>
        <bpmn:dataStoreReference id="DataStoreReference_03dryih"/>
        <bpmn:sequenceFlow id="Flow_0d4mxed" sourceRef="Activity_1oztyps" targetRef="Activity_161w6on"/>
    </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
      <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_195tjfe">
          <bpmndi:BPMNShape id="Participant_1jqxvvf_di" bpmnElement="Participant_1jqxvvf" isHorizontal="true">
              <dc:Bounds x="152" y="57" width="868" height="290"/>
              <bpmndi:BPMNLabel/>
          </bpmndi:BPMNShape>
          <bpmndi:BPMNEdge id="Flow_0do83yh_di" bpmnElement="Flow_0do83yh">
              <di:waypoint x="242" y="179"/>
              <di:waypoint x="450" y="179"/>
          </bpmndi:BPMNEdge>
          <bpmndi:BPMNEdge id="Flow_1iaagnv_di" bpmnElement="Flow_1iaagnv">
              <di:waypoint x="870" y="179"/>
              <di:waypoint x="942" y="179"/>
          </bpmndi:BPMNEdge>
          <bpmndi:BPMNEdge id="Flow_0d4mxed_di" bpmnElement="Flow_0d4mxed">
              <di:waypoint x="550" y="179"/>
              <di:waypoint x="770" y="179"/>
          </bpmndi:BPMNEdge>
          <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_081fq3c">
              <dc:Bounds x="206" y="161" width="36" height="36"/>
              <bpmndi:BPMNLabel>
                  <dc:Bounds x="193" y="204" width="62" height="27"/>
              </bpmndi:BPMNLabel>
          </bpmndi:BPMNShape>
          <bpmndi:BPMNShape id="Activity_1u7ue07_di" bpmnElement="Activity_161w6on">
              <dc:Bounds x="770" y="139" width="100" height="80"/>
              <bpmndi:BPMNLabel/>
          </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18eq527_di" bpmnElement="Event_18eq527">
          <dc:Bounds x="942" y="161" width="36" height="36"/>
        <bpmndi:BPMNLabel>
            <dc:Bounds x="929" y="204" width="64" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
          <bpmndi:BPMNShape id="Activity_0euawdl_di" bpmnElement="Activity_1oztyps">
              <dc:Bounds x="450" y="139" width="100" height="80"/>
              <bpmndi:BPMNLabel/>
          </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_03dryih_di" bpmnElement="DataStoreReference_03dryih">
          <dc:Bounds x="475" y="254" width="50" height="50"/>
      </bpmndi:BPMNShape>
          <bpmndi:BPMNEdge id="DataOutputAssociation_0eyt27k_di" bpmnElement="DataOutputAssociation_0eyt27k">
              <di:waypoint x="500" y="219"/>
              <di:waypoint x="500" y="254"/>
          </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
